[gcode_macro _ITER_M118]
gcode:
    {% set data = params.DATA %}

    {% for item in data %}

        M118 {item}

    {% endfor %}

[gcode_macro macro_a]
gcode:
    {% set cfg = configfile %}

    M118 Config File:
    {% for item in cfg %}
        M118 {item}

    {% endfor %}

[gcode_macro macro_b]
gcode:
    {% set cfg = configfile %}

    {% set opt = params.OPT %}

    {% set listing = cfg[opt] %}

    M118 configfile.{opt}:

    {% for item in listing %}
        M118 {item}

    {% endfor %}