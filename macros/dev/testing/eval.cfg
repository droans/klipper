[extended_macro EVAL]
gcode:
    {% set v = params.V %}
    {% set v = eval(v) %}
    M118 Val is True: {v == True}
    M118 Val is False: {v == False}
    M118 Val is Bool: {type(v) == bool}
    M118 Val is String: {type(v) == str}
    M118 Val is List: {type(v) == list}

[extended_macro _TEST_CONFIG_EVAL]
gcode:
    {% set v = eval(params.V) %}
    _CONFIG_PRINT VAR=defaults KEY=enable_mesh VAL={v}
    _TEST_CONFIG_EVAL_RESPONSE

[extended_macro _TEST_CONFIG_EVAL_RESPONSE]
gcode:
    {% set d = printer['extended_macro _CONFIG_PRINT'].defaults.enable_mesh %}
    M118 D is bool: {type(d) == bool}