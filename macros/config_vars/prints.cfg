[extended_macro _CONFIG_PRINT]
variable_print_start: {
        'always_home': False,
        'hotend_offset': 50,
        'purge_nozzle': True,
        'purge_nozzle_mm': 20,
        'purge_nozzle_speed': 5,
        'enable_prime_line': True,
        'prime_line_macro': 'ADAPTIVE_PURGE',
        'purge_macro': '_PURGE_NOZZLE',
        "delay_hotend_for_bed_temp": True,
        "delay_hotend_until_bed_within": 5
    }

variable_print_end: {
        "retract_mm": 10,
        "retract_speed": 5
    }

variable_pause: {
        "save_name": 'pause_state',
        "move_x": 0,
        "move_y": 0,
        "move_z": 25,
        "gcode_state_saved": True,
        "pause_save_name": 'pause_state'
    }

variable_current_print: {
        "bed_temp": 0,
        "nozzle_temp": 0,
        "first_layer_height": 0,
        "max_accel": 0,
        "max_speed": 0,
        "pressure_advance": 0,
        "square_corner_limit": 0,
        "max_accel_to_decel": 0,
        "retract_mm": 0,
        "retract_speed": 0,
        "extra_unretract_mm": 0,
        "unretract_speed": 0
    }

variable_defaults: {
        "bed_temp": 90,
        "hotend_temp": 260,
        "z_height": 0.3,
        "safe_z": 5,
        
    }
gcode:
    {% set adj_var = params.VAR %}
    {% set adj_key = params.KEY %}
    {% set adj_val = params.VAL %}
    
    {% set vars = dict(locals()._Context__self) %}

    {% set tmp = vars[adj_var].__setitem__(adj_key, adj_val) %}