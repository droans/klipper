[extended_macro _CONFIG_LEDS]
variable_templates: {
        'default': {
            'left_case_leds': {
                'type': 'all',
                'rgb': [0.0, 0.0, 0.0],
                'rgbw': [0.0, 0.0, 0.0, 0.0]
            },
            'right_case_leds': { 
                'type': 'all',
                'rgb': [0.0, 0.0, 0.0],
                'rgbw': [0.0, 0.0, 0.0, 0.0]
            },
            'left_side_leds': {
                'type': 'all',
                'rgb': [0.0, 0.0, 0.0],
                'rgbw': [0.0, 0.0, 0.0, 0.0]
            },
            'right_side_leds': {
                'type': 'all',
                'rgb': [0.0, 0.0, 0.0],
                'rgbw': [0.0, 0.0, 0.0, 0.0]
            }
        },
        'display': {
            'mini12864_led': {
                'type': 'all',
                'rgb': [0.0, 1.0, 0.4],
                'rgbw': [0.0, 1.0, 0.4, 0.0]
            }
        },
        'idle_blink': {
            'left_case_leds': {
                'type': 'all',
                'rgb': [1.0, 0.15, 0.0],
                'rgbw': [1.0, 0.15, 0.0, 0.0]
            },
            'right_case_leds': { 
                'type': 'all',
                'rgb': [1.0, 0.15, 0.0],
                'rgbw': [1.0, 0.15, 0.0, 0.0]
            },
            'left_side_leds': {
                'type': 'all',
                'rgb': [1.0, 0.15, 0.0],
                'rgbw': [1.0, 0.15, 0.0, 0.0]
            },
            'right_side_leds': {
                'type': 'all',
                'rgb': [1.0, 0.15, 0.0],
                'rgbw': [1.0, 0.15, 0.0, 0.0]
            }
        },
        'idle_off': {
            'left_case_leds': {
                'type': 'all',
                'rgb': [0.0, 0.0, 0.0],
                'rgbw': [0.0, 0.0, 0.0, 0.0]
            },
            'right_case_leds': { 
                'type': 'all',
                'rgb': [0.0, 0.0, 0.0],
                'rgbw': [0.0, 0.0, 0.0, 0.0]
            },
            'left_side_leds': {
                'type': 'all',
                'rgb': [0.0, 0.0, 0.0],
                'rgbw': [0.0, 0.0, 0.0, 0.0]
            },
            'right_side_leds': {
                'type': 'all',
                'rgb': [0.0, 0.0, 0.0],
                'rgbw': [0.0, 0.0, 0.0, 0.0]
            }
        },
        'idle_timeout': {
            'left_case_leds': {
                'type': 'all',
                'rgb': [1.0, 0.25, 0.0],
                'rgbw': [1.0, 0.25, 0.0, 0.0]
            },
            'right_case_leds': { 
                'type': 'all',
                'rgb': [1.0, 0.25, 0.0],
                'rgbw': [1.0, 0.25, 0.0, 0.0]
            },
            'left_side_leds': {
                'type': 'all',
                'rgb': [1.0, 0.25, 0.0],
                'rgbw': [1.0, 0.25, 0.0, 0.0]
            },
            'right_side_leds': {
                'type': 'all',
                'rgb': [1.0, 0.25, 0.0],
                'rgbw': [1.0, 0.25, 0.0, 0.0]
            },
            'sb_leds': {
                'type': 'individual',
                'colors': [
                    [1.0, 0.25, 0.0],
                    [1.0, 0.25, 0.0],
                    [1.0, 0.25, 0.0],
                    [1.0, 0.25, 0.0],
                    [1.0, 0.25, 0.0],
                    [1.0, 0.25, 0.0],
                    [1.0, 0.25, 0.0],
                    [1.0, 0.25, 0.0],
                    [0.0, 0.0, 0.0, 1.0], 
                    [0.0, 0.0, 0.0, 1.0]
                ]
            },
        },
        'print_complete': {
            'left_case_leds': {
                'type': 'all',
                'rgb': [0.0, 1.0, 0.0],
                'rgbw': [0.0, 1.0, 0.0, 0.0]
            },
            'right_case_leds': { 
                'type': 'all',
                'rgb': [0.0, 1.0, 0.0],
                'rgbw': [0.0, 1.0, 0.0, 0.0]
            },
            'left_side_leds': {
                'type': 'all',
                'rgb': [0.0, 1.0, 0.0],
                'rgbw': [0.0, 1.0, 0.0, 0.0]
            },
            'right_side_leds': {
                'type': 'all',
                'rgb': [0.0, 1.0, 0.0],
                'rgbw': [0.0, 1.0, 0.0, 0.0]
            },
            'sb_leds': {
                'type': 'individual',
                'colors': [
                    [0.0, 1.0, 0.0],
                    [0.0, 1.0, 0.0],
                    [0.0, 1.0, 0.0],
                    [0.0, 1.0, 0.0],
                    [0.0, 1.0, 0.0],
                    [0.0, 1.0, 0.0],
                    [0.0, 1.0, 0.0],
                    [0.0, 1.0, 0.0],
                    [0.0, 0.0, 0.0, 1.0], 
                    [0.0, 0.0, 0.0, 1.0]
                ]
            },
        },
        'print_error': {
            'left_case_leds': {
                'type': 'all',
                'rgb': [1.0, 0.0, 0.0],
                'rgbw': [1.0, 0.0, 0.0, 0.0]
                },
            'right_case_leds': { 
                'type': 'all',
                'rgb': [1.0, 0.0, 0.0],
                'rgbw': [1.0, 0.0, 0.0, 0.0]
                },
            'left_side_leds': {
                'type': 'all',
                'rgb': [1.0, 0.0, 0.0],
                'rgbw': [1.0, 0.0, 0.0, 0.0]
                },
            'right_side_leds': {
                'type': 'all',
                'rgb': [1.0, 0.0, 0.0],
                'rgbw': [1.0, 0.0, 0.0, 0.0]
                },
            'sb_leds': {
                'type': 'individual',
                'colors': [
                    [1.0, 0.0, 0.0],
                    [1.0, 0.0, 0.0],
                    [1.0, 0.0, 0.0],
                    [1.0, 0.0, 0.0],
                    [1.0, 0.0, 0.0],
                    [1.0, 0.0, 0.0],
                    [1.0, 0.0, 0.0],
                    [1.0, 0.0, 0.0],
                    [0.0, 0.0, 0.0, 1.0], 
                    [0.0, 0.0, 0.0, 1.0]
                ]
            },
        },
        'print_paused': {
            'left_case_leds': {
                'type': 'all',
                'rgb': [0.0, 0.75, 0.0],
                'rgbw': [0.0, 0.75, 0.0, 0.0]
            },
            'right_case_leds': { 
                'type': 'all',
                'rgb': [0.0, 0.75, 0.0],
                'rgbw': [0.0, 0.75, 0.0, 0.0]
            },
            'left_side_leds': {
                'type': 'all',
                'rgb': [0.0, 0.75, 0.0],
                'rgbw': [0.0, 0.75, 0.0, 0.0]
            },
            'right_side_leds': {
                'type': 'all',
                'rgb': [0.0, 0.75, 0.0],
                'rgbw': [0.0, 0.75, 0.0, 0.0]
            },
            'sb_leds': {
                'type': 'individual',
                'colors': [
                    [0.0, 0.75, 0.0],
                    [0.0, 0.75, 0.0],
                    [0.0, 0.75, 0.0],
                    [0.0, 0.75, 0.0],
                    [0.0, 0.75, 0.0],
                    [0.0, 0.75, 0.0],
                    [0.0, 0.75, 0.0],
                    [0.0, 0.75, 0.0],
                    [0.0, 0.0, 0.0, 1.0], 
                    [0.0, 0.0, 0.0, 1.0]
                ]
            }
        },
        'printing': {
            'left_case_leds': {
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            },
            'right_case_leds': { 
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            },
            'left_side_leds': {
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            },
            'right_side_leds': {
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            },
            'sb_leds': {
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            }
        },
        'progress': {
            'status_leds': {
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            }
        },
        'standby': {
            'left_case_leds': {
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            },
            'right_case_leds': { 
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            },
            'left_side_leds': {
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            },
            'right_side_leds': {
                'type': 'all',
                'rgb': [1.0, 1.0, 1.0],
                'rgbw': [0.0, 0.0, 0.0, 1.0]
            },
            'sb_leds': {
                'type': 'macro',
                'macro': '_LED_SB_STANDBY'
            }
        }
    }

variable_state_templates: {
        "default": "default",
        "display": "display",
        "idle": "idle_timeout",
        "idle_off": "idle_off",
        "idle_blink": "idle_blink",
        "print_complete": "print_complete",
        "error": "print_error",
        "error_sb": "print_error_sb",
        "print_paused": "print_paused",
        "printing": "printing",
        "print_progress": "progress",
        "standby": "standby"
    }
gcode:

    {% set adj_var = params.VAR %}
    {% set adj_key = params.KEY %}
    {% set adj_val = params.VAL %}
    
    {% set vars = dict(locals()._Context__self) %}

    {% set tmp = vars[adj_var].__setitem__(adj_key, adj_val) %}