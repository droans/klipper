[gcode_macro RESUME]
description: Resume print
rename_existing: BASE_RESUME
gcode:
    {% set config_vars = printer["gcode_macro _CONFIGS"] %}
    {% set restore_state = config_vars.pause_gcode_state_saved %}
    {% set pause_state_name = config_vars.pause_save_name %}
    
    {% set restore_state_name = params.STATE_NAME | default(-1) %}

    {% set saved_states = [
            True,
            'True',
            'TRUE',
            '1',
            '1.0',
            1,
            1.0
        ]
    %}

    {% if restore_state in saved_states %}
        RESTORE_GCODE_STATE NAME={pause_state_name} MOVE=1    
    {% endif %}

    {% if restore_state_name != -1 %}
        RESTORE_GCODE_STATE NAME={restore_state_name} MOVE=1
    {% endif %}

    _LED_STANDBY
    
    BASE_RESUME