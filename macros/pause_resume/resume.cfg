[gcode_macro RESUME]
description: Resume print
rename_existing: BASE_RESUME
gcode:
    {% set vars = printer['extended_macro _CONFIG_PRINT'].pause %}
    {% set restore_state = vars.pause.gcode_state_saved %}
    {% set pause_state_name = vars.pause.pause_save_name %}
    
    {% set restore_state_name = params.STATE_NAME | default(pause_state_name) %}

    {% set saved_states = [
            True,
            'True',
            'TRUE',
            '1',
            '1.0',
            1,
            1.0
        ]
    %}

    {% if restore_state in saved_states %}
        RESTORE_GCODE_STATE NAME={pause_state_name} MOVE=1    
    {% endif %}

    {% if restore_state_name != -1 %}
        RESTORE_GCODE_STATE NAME={restore_state_name} MOVE=1
    {% endif %}

    _LED_STANDBY
    
    BASE_RESUME